<!DOCTYPE html>
<!--

TABLE OF CONTENTS.

Use search to find needed section.

===================================================================

|  1. $BODY                        |  Body                         |
|  2. $MAIN_NAVIGATION             |  Main navigation             |
|  3. $NAVBAR_ICON_BUTTONS         |  Navbar Icon Buttons         |
|  4. $MAIN_MENU                   |  Main menu                   |
|  5. $UPLOADS_CHART               |  Uploads chart               |
|  6. $EASY_PIE_CHARTS             |  Easy Pie charts             |
|  7. $EARNED_TODAY_STAT_PANEL     |  Earned today stat panel     |
|  8. $RETWEETS_GRAPH_STAT_PANEL   |  Retweets graph stat panel   |
|  9. $UNIQUE_VISITORS_STAT_PANEL  |  Unique visitors stat panel  |
|  10. $SUPPORT_TICKETS            |  Support tickets             |
|  11. $RECENT_ACTIVITY            |  Recent activity             |
|  12. $NEW_USERS_TABLE            |  New users table             |
|  13. $RECENT_TASKS               |  Recent tasks                |

===================================================================

-->


<!--[if IE 8]>         <html class="ie8"> <![endif]-->
<!--[if IE 9]>         <html class="ie9 gt-ie8"> <![endif]-->
<!--[if gt IE 9]><!--> 
<html class="gt-ie8 gt-ie9 not-ie"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>云平台管理系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Open Sans font from Google CDN -->

    <!-- Pixel Admin's stylesheets -->
    <link href="@{'/public/stylesheets/bootstrap.css'}" rel="stylesheet" type="text/css">
    <link href="@{'/public/stylesheets/pixel-admin.css'}" rel="stylesheet" type="text/css">
    <link href="@{'/public/stylesheets/widgets.min.css'}" rel="stylesheet" type="text/css">
    <link href="@{'/public/stylesheets/rtl.min.css'}" rel="stylesheet" type="text/css">
    <link href="@{'/public/stylesheets/themes.css'}" rel="stylesheet" type="text/css">
    
    <!-- jquery.msgbox.7.1-->
    <LINK rel=stylesheet type=text/css href="@{'/public/javascripts/jquery.msgbox.7.1/jquery.msgbox.css'}">
    <!-- choiceButton -->
    <LINK rel=stylesheet type=text/css href="@{'/public/javascripts/choiceButton/choiceButton.css'}">
    
    <!-- jstree -->
    <link href="@{'/public/stylesheets/style.min.css'}" rel="stylesheet" type="text/css">
    <link href="@{'/public/stylesheets/jquery.datetimepicker.css'}" rel="stylesheet" type="text/css">
    
    <!-- Get jQuery from Google CDN -->
	<!--[if !IE]> -->
	<script type="text/javascript"> window.jQuery || document.write('<script src="@{'/public/javascripts/jquery-2.1.1.min.js'}">'+"<"+"/script>"); </script>
	<!-- <![endif]-->
	
	<!--[if lte IE 9]>
	<script type="text/javascript"> window.jQuery || document.write('<script src="@{'/public/javascripts/jquery-1.11.1.min.js'}">'+"<"+"/script>"); </script>
	<![endif]-->
    
    <!-- jquery.msgbox.7.1-->
    <SCRIPT type=text/javascript src="@{'/public/javascripts/jquery.msgbox.7.1/jquery-latest.min.js'}"></SCRIPT>
    <SCRIPT type=text/javascript src="@{'/public/javascripts/jquery.msgbox.7.1/jquery.dragndrop.min.js'}"></SCRIPT>
    <script type=text/javascript src="@{'/public/javascripts/jquery.msgbox.7.1/jquery.msgbox.js'}"></script>
    <!-- choiceButton -->
    <script type=text/javascript src="@{'/public/javascripts/choiceButton/choiceButton.js'}"></script>
        
    <!--My97DatePicker -->
     <script type=text/javascript src="@{'/public/javascripts/My97DatePicker/WdatePicker.js'}"></script>
     

    <script src="@{'/public/javascripts/easyUI/jquery.easyui.min.js'}" type="text/javascript"></script>

   <!-- jstree -->
    <script src="@{'/public/javascripts/jstree.min.js'}"></script>
     <script src="@{'/public/javascripts/jquery-ui.min.js'}"></script>
    <script src="@{'/public/javascripts/jquery.datetimepicker.js'}"></script>

<!-- Pixel Admin's javascripts -->
	<script src="@{'/public/javascripts/bootstrap.min.js'}"></script>
	<script src="@{'/public/javascripts/pixel-admin.min.js'}"></script>
	
    <!--[if lt IE 9]>
    <script src="@{'/public/javascripts/ie.min.js'}"></script>
    <![endif]-->
    <style type="text/css">
     .btnLang{
       	width: 26px!important;
		height: 22px;
		line-height: 20px;
		text-align: center;
		padding: 0;
		display: inline-block!important;
		opacity: .8;
		-webkit-transition: all .1s;
		transition: all .1s;
		vertical-align: middle;
		cursor: pointer;
       }
     </style>
</head>


<!-- 1. $BODY ======================================================================================

	Body

	Classes:
	* 'theme-{THEME NAME}'
	* 'right-to-left'      - Sets text direction to right-to-left
	* 'main-menu-right'    - Places the main menu on the right side
	* 'no-main-menu'       - Hides the main menu
	* 'main-navbar-fixed'  - Fixes the main navigation
	* 'main-menu-fixed'    - Fixes the main menu
	* 'main-menu-animated' - Animate main menu
-->
<body class="theme-sinoPecBlue main-menu-animated">

<script>var init = [];</script>
<!-- Demo script -->  <!-- / Demo script -->
<div id="main-wrapper">


<!-- 2. $MAIN_NAVIGATION ===========================================================================

	Main navigation
-->

<div id="main-navbar" class="navbar navbar-inverse" style="background-image:url('/public/images/blue.jpg'); background-repeat:no-repeat;min-height:68px;"  role="navigation">
	     <div style="text-align:right;padding-top:20px;padding-right:30px;">
	        <span class="text-slim">&{'Welcome'},</span> <span class="text-semibold">${session.get("username")}</span>
	        <a  class="btnLang" style="background-image:url('/public/images/line_01.png');background-repeat:no-repeat;background-position:center;"></a>
	        <a href="@{Secure.logout()}" class="btn btn-xs btn-danger btn-outline dark" style="background-image:url('/public/images/top_bg.png');background-repeat:no-repeat;background-position:center;"><i class="fa fa-power-off"></i></a>
            <a href="@{Application.setLang('en')}" class="btnLang" style="background: #F1F1F1;background-image:url('/public/images/en_01.png');background-repeat:no-repeat;background-position:center;"><i></i></a>
            <a href="@{Application.setLang('zh')}" class="btnLang" style="background: #F1F1F1;background-image:url('/public/images/china_01.png'); background-repeat:no-repeat;background-position:center;"><i></i></a>
		</div>
<!-- Main menu toggle -->
<!--
	<button type="button" id="main-menu-toggle">
	<i class="navbar-icon fa fa-bars icon"></i>
	<span class="hide-menu-text">HIDE MENU</span>
	</button>
-->
<!--<h1 style="text-align:left; font-family:宋体;line-spacing:16px;font-size:20px;color:#F5FFE8 ;">
     <img src="/public/images/logo.jpg" style="margin-left:10px;wewidth:60px;height:40px;"><strong>&{'HEAD_TITLE'}</strong>
 </h1>
-->
</div> 

<!-- / #main-navbar -->
<!-- /2. $END_MAIN_NAVIGATION -->


<!-- 4. $MAIN_MENU =================================================================================

		Main menu

		Notes:
		* to make the menu item active, add a class 'active' to the <li>
		  example: <li class="active">...</li>
		* multilevel submenu example:
			<li class="mm-dropdown">
			  <a href="#"><span class="mm-text">Submenu item text 1</span></a>
			  <ul>
				<li>...</li>
				<li class="mm-dropdown">
				  <a href="#"><span class="mm-text">Submenu item text 2</span></a>
				  <ul>
					<li>...</li>
					...
				  </ul>
				</li>
				...
			  </ul>
			</li>
-->
<div id="main-menu" role="navigation">
<div id="main-menu-inner">
<div class="menu-content" style="padding-top:0px;" id="menu-content-demo">
    <div>
        <!--
        <img src="@{'/public/demo/avatars/1.jpg'}" alt="" class="">
        -->
        <div class="">
             <script type="text/javascript">
				/*function setLang(){
				   var lang = $("#langu").val();
				  alert(lang);
			    	 $.ajax({
					  type : 'POST',
	           	      url : '@{Application.setLang(''+lang)}',
				      data : {
	                   },
	                   dataType : 'json',
	                   async : false,
				 	   success: function(data){
				 	   alert(123);
	        			if(data==true){
	        				alert("刷新成功");
	        				 window.location.reload();
	        			}else {
	        				alert("刷新失败");
	        			}
	      			  }
	      	       });
				}*/
				function showLang(){
				  $("#langshow").toggle();
				}
				function hedLang(val){
				  $("#langshow").hide();
				  $("#showVal").val(val);
				}
				 jQuery.fn.isChildAndSelfOf = function(b){ 
                      return (this.closest(b).length > 0); 
                  };
				function outLang(){
				    var r = jQuery.fn.isChildAndSelfOf(this);
				    alert(r);
                    $("#langshow").hide();
				}
			</script>
            <!--
            <select id = "langu" onchange="setLang()">
              <option value="zh">简体中文</option>
              <option value="en">English</option>
            </select>
           <ul style="position:absolute;text-align:left;">
             <li>
                <a  id="showVal" style="text-decoration:none;" href="#" onclick="showLang()">&{'CHOOSELANGUAGE'}</a> 
	            <ul id="langshow" style="left:0px;display:none;">
	               <li>
	                   <a style="text-decoration:none;"  href="@{Application.setLang('en')}" onclick="hedLang('English')" title="English">English</a>  
	               </li>
		            <li>
              	      <a style="text-decoration:none;"  href="@{Application.setLang('zh')}" onclick="hedLang('简体中文')" title="简体中文">简体中文</a> 
	                </li>
                </ul>
             </li>
	       </ul>
	       -->
       </div>
    </div>
</div>

<ul class="navigation">
	<!-- 
    <li>
        <a href="@{Application.index()}"><i class="menu-icon fa fa-dashboard"></i><span class="mm-text">门户系统</span></a>
    </li>
    -->
    <li class="mm-dropdown">
    	<a href="@{Orders.list()}"><i class="menu-icon fa fa-tasks"></i><span class="mm-text">&{'TWorkorder'}<font id="count" color="red" ></font></span></a><!-- 工单管理 -->
   		<ul>
   			<li>
   				<a href="@{Orders.listUnFinish()}"><span class="mm-text">&{'ORDER_UNFINISH'}<font id="count" color="red" ></font></span></a><!--未处理工单 -->
   			</li>
   			<li>
   				<a href="@{Orders.listFinish()}"><span class="mm-text">&{'ORDER_FINISH'}</span></a><!--已处理工单-->
   			</li>
   		</ul>
    </li>
    
     <li class="mm-dropdown">
        #{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
        	<a href="@{ResourceVMs.list()}" id = "ResourceVMsHref"><i class="menu-icon fa fa-th"></i><span class="mm-text">&{'RES_MANAGE'}</span></a><!-- 资源管理 -->
				<ul id = "ResourceVMsMenu">
				</ul>
		#{/if}
    </li>
    
    <li>
        <a href="@{Resoures.list()}"><i class="menu-icon fa fa-th"></i><span class="mm-text">&{'RESOURE_MANAGE'}</span></a><!-- 资产管理 -->
    </li>
    
    <li class="mm-dropdown">
		<a tabindex="-1" href="#"><i class="menu-icon fa fa-th"></i><span class="mm-text">&{'REPORT_MANAGE'}</span></a><!-- 报表管理 -->
		<ul>
			<li class="mm-dropdown">
				<a tabindex="-1" href="#"><span class="mm-text">&{'PERFORMANCE_REPORT'}</span></a><!-- 性能报表 -->
				<ul>
				<li>
					<a tabindex="-1" href="/report/params?reportId=h_prf_001"><span class="mm-text">&{'REAL_TIME_QUERY'}</span></a><!-- 实时查询 -->
				</li>
				<li>
					<a tabindex="-1" href="@{reportrecord.list()}?reportType=week"><span class="mm-text">&{'WEEKLY_REPORT'}</span></a><!-- 周报 -->
				</li>
				<li>
					<a tabindex="-1" href="@{reportrecord.list()}?reportType=month"><span class="mm-text">&{'MONTH_REPORT'}</span></a><!-- 月报 -->
				</li>
				</ul>
			</li>
			
			<li>
				<a tabindex="-1" href="@{alarms.list()}"><span class="mm-text">&{'ALARM_REPORT'}</span></a><!-- 告警报表 -->
				<!--<ul>-->
				<!-- <li><a tabindex="-1" href="@{AlarmReports.list()}"><span class="mm-text">&{'REAL_TIME_QUERY'}</span></a></li>  --><!-- 实时查询 -->
				<!--<li>-->
					<!-- <a tabindex="-1" href="@{alarms.list()}"><span class="mm-text">&{'ALARM_INFO'}</span></a>--> <!-- 告警信息 -->
				<!--</li>-->
				<!--</ul>-->
			</li>
			
			<li class="mm-dropdown">
				<a tabindex="-1" href="#"><span class="mm-text">&{'RES_REPORT'}</span></a><!-- 资源报表 -->
				<ul>
				 <li>
		  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
						<a tabindex="-1" href="@{ResPools.poolList()}"><span class="mm-text">&{'VMRES_POOL'}</span></a><!-- 资源池情况 -->
		 			#{/if}
		  		</li>
		  
		 		 <li>
		 			 #{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
						<a tabindex="-1" href="@{VMSums.sumListByProject()}"><span class="mm-text">&{'PROJECT_VM_SUM'}</span></a><!-- 按项目统计 -->
		  			 #{/if}
		 		 </li>
		 		 
		 		 <li>
		  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
						<a tabindex="-1" href="@{ResComputers.list()}"><span class="mm-text">&{'RES_COMPUTER'}</span></a><!-- 资源展示 -->
		  			#{/if}
		  		</li>
		  		
		  		<li>
		  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
						<a tabindex="-1" href="@{Storage.list()}"><span class="mm-text">&{'STORAGEMAPPINGVIEW'}</span></a><!-- 存储卷映射查看 -->
		  			#{/if}
		  		</li>
			 	<li>
		  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
						<a tabindex="-1" href="@{ResHost.list()}"><span class="mm-text">&{'HOSTMAPPINGPV'}</span></a><!-- 主机PV映射查看 -->
		  			#{/if}
		  		</li>
				</ul>
			</li>
		
		<!-- 微软X86资产资源信息 -->
	<li class="mm-dropdown">
				<a tabindex="-1" href="#"><span class="mm-text">&{'MIC_X86_INFO'}</span></a><!-- 微软X86资产资源信息 -->
			  <ul>
			    <li class="mm-dropdown">
				      <a tabindex="-1" href="#"><span class="mm-text">&{'ASSET_INFO'}</span></a><!-- 资产信息 -->
			    	<ul>
			    	  <li>
			  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicAssetsOverview.list()}"><span class="mm-text">&{'ASSET_OVE'}</span></a><!-- 资产概况 -->
			 			#{/if}
			 		  </li>
			 		  <li>
		 				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicAssetsOverview.listReport()}"><span class="mm-text">&{'ASSET_CLA_REP'}</span></a><!--设备分类资产报表 -->
			 			#{/if}
			 		  </li>
			 		</ul>
			   </li>
			   
			     <li class="mm-dropdown">
				      <a tabindex="-1" href="#"><span class="mm-text">&{'RES_INFO'}</span></a><!-- 资源信息 -->
			    	<ul>
			    	  <li>
			  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResInfo.list()}"><span class="mm-text">&{'RES_ALLOT'} </span></a><!-- 资源分配情况 -->
			 			#{/if}
			 		  </li>
			 		  <li>
		 				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResInfo.listMemory()}"><span class="mm-text">&{'RES_ALL_Calcula'}</span></a><!--计算资源分配情况 -->
			 			#{/if}
			 		  </li>
			 		   <li>
		 				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResInfo.listStore()}"><span class="mm-text">&{'STORAGE_RES'}</span></a><!--存储资源 -->
			 			#{/if}
			 		  </li>
			 		</ul>
			   </li>
			   
	   	      <li class="mm-dropdown">
				      <a tabindex="-1" href="#"><span class="mm-text">&{'RES_MEASURE'}</span></a><!-- 资源计量 -->
			    	<ul>
			    	  <li>
			  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResMeasure.list()}"><span class="mm-text">&{'BUS_RES_MEASURE'}</span></a><!--业务部门季度资源计量 -->
			 			#{/if}
			 		  </li>
			 		  <li>
		 				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResMeasure.listResUser()}"><span class="mm-text">&{'SYS_MANAGE_RES_MEASURE'}</span></a><!--系统管理处资源计量 -->
			 			#{/if}
			 		  </li>
			 		</ul>
			   </li>
			   
			   <li class="mm-dropdown">
				      <a tabindex="-1" href="#"><span class="mm-text">&{'RES_OPERATION'}</span></a><!--资源运行情况-->
			    	<ul>
			    	   <!--
			    	  <li>
			  			#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResRun.list()}"><span class="mm-text">&{'SYS_RES_HEALTH'}</span></a>系统资源健康情况 
			 			#{/if}
			 		  </li>
			 		  -->
			 		   <li>
		 				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{MicResRun.listResUser()}"><span class="mm-text">&{'SYS_RES_USAGE'}</span></a><!--系统资源使用报表 -->
			 			#{/if}
			 		  </li>
			 		</ul>
			   </li>
		     </ul>
	     </li>
	   
	   
	  </ul>
   </li>
   
   
	<li>
        <a href="@{Images.list()}"><i class="menu-icon fa fa-flask"></i><span class="mm-text">&{'IMAGE_MANAGE'}</span></a><!-- 镜像管理 -->
    </li>
    
    <li class="mm-dropdown">
		<a tabindex="-1" href="#"><i class="menu-icon fa fa-th"></i><span class="mm-text">&{'SYSTEM_MANAGE'}</span></a><!-- 系统管理 -->
		<ul>
			<li>
				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
					<a tabindex="-1" href="@{Schedulings.list()}"><span class="mm-text">&{'SCHEDULING_MANAGE'}</span></a><!-- 调度管理 -->
				#{/if}
			</li>
			<li>
				#{if session.get("permission") == 'supermanager' }
					<a tabindex="-1" href="@{DataDics.list()}"><span class="mm-text">&{'DICTIONARY_MANAGE'}</span></a><!-- 数据字典管理 -->
				#{/if}
			</li>
			<li>
				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
					<a tabindex="-1" href="@{Users.list()}"><span class="mm-text">&{'USER_MANAGE'}</span></a><!-- 用户管理 -->
				#{/if}
			</li>
			<li>
				#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
					<a tabindex="-1" href="@{Users.editPwdPage()}"><span class="mm-text">&{'MODIFY_PWD'}</span></a><!-- 超管修改密码 -->
				#{/if}
			</li>
			<li class="mm-dropdown">
				<a tabindex="-1" href="#"><span class="mm-text">&{'PERMISSION_MANAGE'}</span></a><!-- 权限管理 -->
				<ul>
					<li>
						#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
							<a tabindex="-1" href="@{GrantedRecords.list()}"><span class="mm-text">&{'GRANTED_LOG'}</span></a><!-- 授权记录查询 -->
						#{/if}
					</li>
				</ul>
			</li>
			<li>
		  		#{if session.get("permission") == 'supermanager' || session.get("permission") == 'manager'}
					<a tabindex="-1" href="@{ResOperations.list()}"><span class="mm-text">&{'RES_OPERATE_LOG'}</span></a><!-- 资源操作日志查询 -->
		  		#{/if}
		 	</li>
			<li>
				<a tabindex="-1" href="@{SystemLogs.list()}"><span class="mm-text">&{'SYS_LOG'}</span></a><!-- 系统日志 -->
			</li>
		
		</ul>
	</li>

</ul> <!-- / .navigation -->
<!-- 20141117 wzj flag
<div class="menu-content">
    <a href="pages-invoice.html" class="btn btn-primary btn-block btn-outline dark">Create Invoice</a>
</div>
-->
</div> <!-- / #main-menu-inner -->
</div> <!-- / #main-menu -->
<!-- /4. $MAIN_MENU -->

<div id="content-wrapper" style="padding:70px 18px 10px;">
	#{doLayout /}
</div> <!-- / #content-wrapper -->
<div id="main-menu-bg"></div>
</div> <!-- / #main-wrapper -->




#{get 'moreScripts' /}


<script type="text/javascript">

/* function autoclick(param,temp){
			var lnk
			lnk = document.getElementById(param);
			location.href = lnk.href;
			alert(temp);
			tempUl=temp;
	    }*/
	    
	init.push(function () {
		$('.table .table-caption').text('Some header text');
		$('.table .dataTables_filter input').attr('placeholder', 'Search...');
	});
    window.PixelAdmin.start(init);
    
$(function() {
	$.ajax({
			 type : 'POST',
             url : '@{Orders.asd()}',
			 data : {
                   
             },
             dataType : 'json',
             async : false,
			 success: function(data){
        		 var textobj = document.getElementById('count');
				 textobj.innerHTML = "("+data+")";
      		 }
      	});
      	
      //初始化资源管理子菜单
  	  $.ajax({
		 type : 'POST',
            url : '@{ResourceVMs.menuPro()}',
		 data : {
                  
            },
            dataType : 'json',
            async : false,
		    success: function(data){
       		 var textobj = document.getElementById('ResourceVMsMenu');
			     textobj.innerHTML = data;
     		 }
     	});
      	
      	//激活触发
      	//alert(1);
   	 	//$("#main-menu").hide();
   	    //$("#main-menu").show();
   	    //$("#main-menu").width(80);
   	    //$("#main-menu").active();
   	 	//$(".mm-dropdown").trigger('click');
   	 	
	  //显示子菜单	    
/*	    var hrefNow = window.location.href;
	  	alert('最后执行了我！');
	 	var num = hrefNow.indexOf("resourcevms");
	 	alert(num);
	 	if(num>0){
	 		 $("#ResourceVMsMenu").toggle();
	 	}
	   function submenuShow(){
	
	  }*/
});
</script>



</body>
</html>
